<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<title data-react-helmet="true">SUIB-solutions | ManySecured</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="SUIB-solutions | ManySecured"><meta data-react-helmet="true" name="description" content="Device Onboarding"><meta data-react-helmet="true" property="og:description" content="Device Onboarding"><meta data-react-helmet="true" property="og:url" content="https://github.com/TechWorksHub/docs/SUIB-solutions"><link data-react-helmet="true" rel="shortcut icon" href="/img/mslogo.svg"><link data-react-helmet="true" rel="canonical" href="https://github.com/TechWorksHub/docs/SUIB-solutions"><link rel="stylesheet" href="/styles.e6e8e8cd.css">
<link rel="preload" href="/styles.57115a7e.js" as="script">
<link rel="preload" href="/runtime~main.6c0ff58d.js" as="script">
<link rel="preload" href="/main.a0975e58.js" as="script">
<link rel="preload" href="/1.0b59496a.js" as="script">
<link rel="preload" href="/2.507d9e23.js" as="script">
<link rel="preload" href="/44.71ddffdd.js" as="script">
<link rel="preload" href="/45.de83f5cd.js" as="script">
<link rel="preload" href="/20ac7829.c668e58d.js" as="script">
<link rel="preload" href="/17896441.d296467f.js" as="script">
<link rel="preload" href="/54c85550.a24a76a3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/mslogo.svg" alt="NQM Docusaurus Template Logo"><strong class="navbar__title">ManySecured</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/about">About</a><a href="https://github.com/TechWorksHub" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/mslogo.svg" alt="NQM Docusaurus Template Logo"><strong class="navbar__title">ManySecured</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/about">About</a></li><li class="menu__list-item"><a href="https://github.com/TechWorksHub" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">SUIB-solutions</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="device-onboarding"></a>Device Onboarding<a aria-hidden="true" tabindex="-1" class="hash-link" href="#device-onboarding" title="Direct link to heading">#</a></h1><blockquote><p>There are several elements we need to consider for the onboarding process.</p><ul><li>physical on boarding to wifi etc. Currently out of scope for this document. increasingly beeing addressed with BLE to provision WIFI credentials</li><li>user permissioning: some method by which user consciously onboards the device. If physical network is adhering to zero trust principles then we can assume this step bootstraps some form of segmented security</li><li>device verification: may be optional step, but security hygiene may mean that device needs to be validated before on boarding</li></ul><p>these are important issues to consider as they impact</p><ol><li>user experenice</li><li>commercial control points</li></ol></blockquote><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="integration-of-external-trust-roots"></a>Integration of external trust roots<a aria-hidden="true" tabindex="-1" class="hash-link" href="#integration-of-external-trust-roots" title="Direct link to heading">#</a></h1><blockquote><p>Question: what might we want to ask</p><ol><li>device attestion: is there trust in the device</li><li>user brokering: is the user happy the device is onboard</li><li>anythiing else  ?</li><li></li></ol></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="initial-device-identifier"></a>Initial Device Identifier<a aria-hidden="true" tabindex="-1" class="hash-link" href="#initial-device-identifier" title="Direct link to heading">#</a></h2><p>IEEE 802.1AR specifies a secure device identity. Manufacturers can embed an initial device identifier certificate to a device. The initial certificate (IDevID) typically has an infinite lifetime. It can validate the device is from the manufacturer. This can be used to enroll a certificate with a limited validity and with the domainname used within the network.
<a href="https://1.ieee802.org/security/802-1ar/" target="_blank" rel="noopener noreferrer">https://1.ieee802.org/security/802-1ar/</a></p><p>BRSKI describes the bootstrapping process on how the IDevID certificate can be used for certificate enrollment (IETF EST). The manufacturer can operate a MASA to verify the certificate and the device is configured as part of the domain, so that it can sign a local context LDevID certificate.
<a href="https://datatracker.ietf.org/doc/html/rfc8995/" target="_blank" rel="noopener noreferrer">https://datatracker.ietf.org/doc/html/rfc8995/</a></p><p>For BRSKI to provision home devices with a valid certificate, they would need a globally unique address. Yet home devices normally do not have a domain.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="fido-device-onboarding"></a>FIDO Device Onboarding<a aria-hidden="true" tabindex="-1" class="hash-link" href="#fido-device-onboarding" title="Direct link to heading">#</a></h2><p><a href="https://fidoalliance.org/specs/FDO/fido-device-onboard-v1.0-ps-20210323/fido-device-onboard-v1.0-ps-20210323.html">https://fidoalliance.org/specs/FDO/fido-device-onboard-v1.0-ps-20210323/fido-device-onboard-v1.0-ps-20210323.html</a></p><p>The FIDO alliance has defined a method of onboarding IoT devices. This onboarding process contains several pieces of information which could be used to negotiate a security session:</p><ol><li><strong>Device Attestation Key</strong>: a unique key provisioned on the end point device. The device key is provisioned using the <a href="https://fidoalliance.org/specs/FDO/fido-device-onboard-v1.0-ps-20210323/fido-device-onboard-v1.0-ps-20210323.html#appendix-b-device-key-provisioning-with-ecdsa">Device Key Provisioning with ECDSA</a> process as an example </li><li><strong>Device credential</strong>: the <a href="https://fidoalliance.org/specs/FDO/fido-device-onboard-v1.0-ps-20210323/fido-device-onboard-v1.0-ps-20210323.html#DeviceCredential">Device Credential Persisted Type (non-normative)</a> is a signed JSON/CBOR structure that contains key device metadata, in particular <code>DCDeviceInfo</code> which could be used in the bootstrapping of  a secure session</li></ol><blockquote><p>Question  can we pull something form  Ownership Voucher e.g. inital owner is manufacturer ?</p><p>FDO mentions this on IETF Voucher Artifact differences</p><p><em>The Ownership Voucher is distinct from the Voucher Artifact described in [<a href="https://fidoalliance.org/specs/FDO/fido-device-onboard-v1.0-ps-20210323/fido-device-onboard-v1.0-ps-20210323.html#biblio-rfc8366">RFC8366]</a>, although both are structured documents that convey trust.  The Ownership Voucher here conveys trust through the supply chain from the manufacturer, being the original &#x27;owner&#x27; of the Device, to the ultimate Owner who will use the Device in a production setting. The Voucher Artifact is a dynamically generated object which provides an endorsement of the Device from a trusted authority (the &quot;MASA&quot;).</em></p></blockquote><blockquote><p>Question: FIDO device onboarding is managed with server-based rendezvous servers. But some of this info is still available even if FIDO oboarding as not completed as they are assumed pre-conditions</p></blockquote><p>To be of practical use the implementation of the device hosed web server would need access to the private attestation key, the device credential and any other information relevant eg ownership voucher. </p><p>The meaningful information could be encapsulated as X.509 certificate if using traditional HTTPS certificates. Or as signed tokens.</p><blockquote><p> TODO: The exact format as use of fields for either X.509 or tokens need to be defined </p><p>TODO: the preconditions within the browser and the semantics of establishing root of trust needs to be defined.  </p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="matter-onboarding"></a>MATTER Onboarding<a aria-hidden="true" tabindex="-1" class="hash-link" href="#matter-onboarding" title="Direct link to heading">#</a></h2><p>The emerging MATTER standard being created under the Connectivity Standards Alliance is also creating device management and user provisioning protocols, where cryptographic primitives are persisted as a result of various manufacturer and device onboarding activities.</p><p>The standard is not yet public, but we can expect similar components to those we see in the FIDO onboarding flows.</p><blockquote><p>Nick: flow is similar to above but uses matter keys and credentials </p></blockquote><blockquote><p> TODO: the root of trust semantics might be partly addressed by the MATTER approach to root of trust </p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="mud-credentials"></a>MUD Credentials<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mud-credentials" title="Direct link to heading">#</a></h2><p>The MUD specification does have security relevant information that could be used in the bootstrapping of a trusted TLS connection between browser and IOT device, specifically information on manufacture and device type.  This information can be securely resolved form the MUD document. </p><p>However as it stands the MUD specification does not directly address the issue if device based client private keys, excepting the reference to IEEE 802.1AR</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="7-bringing-it-together"></a>7. Bringing it together<a aria-hidden="true" tabindex="-1" class="hash-link" href="#7-bringing-it-together" title="Direct link to heading">#</a></h1><p>The enable local encryption there are three aspects that need to be addressed. The local network needs a reliable way to identify that the device really came from the vendor, the network needs a reliable way to name a device and the browser needs to have a trust anchor that trusts these devices.</p><p>In the current situation, the ingredients exist to create a solution that will satisfy the local trust, but there is no consistent coherent way which will work every time for everyone in every situation. It will require consensus building to achieve a reliable trust chain.</p><p>Changes in the browser, certificate signing process or infrastructure to support domains can solve this issue, but it requires significant standardisation and organisation.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="nicks-list"></a>Nicks List<a aria-hidden="true" tabindex="-1" class="hash-link" href="#nicks-list" title="Direct link to heading">#</a></h2><ul><li><p>Naming of devices: outline the different methods/syntax we might have for naming devices  : course grained</p></li><li><ul><li><p>#pubkey + bound domain</p></li><li><p>Friendly name + bound domain</p></li><li><p>Where bound domain could be</p></li><li><ul><li>Manufacturer allocated domain = <a href="http://devices.manuactrue.com">devices.manufacturer.com</a></li><li>End user allocated domain = <a href="http://nick.allott.com">nick.allott.com</a> </li><li>Other…</li></ul></li></ul></li><li><p>Name resolution: list out the different name     resolver methods</p></li><li><ul><li><p>DNS based</p></li><li><ul><li>Embedded physical address</li><li>DynDNS</li><li>mDNS</li></ul></li><li><p>Other…. Non DNS methods</p></li></ul></li><li><p>Certificate usage – trust framework </p></li><li><ul><li>List out the current ways certificates are used – outlining pros and cons</li><li>Outline use of extended fields for X509</li><li>Discuss the certificate storage (private key storage) requirements</li><li>Potential use of non X509 trust anchors</li><li>Device validation methods (trusted manufactures)      </li></ul></li><li><p>Bringing it all together</p></li><li><ul><li><p>Look at full Lifecyle- for different      alternatives</p></li><li><p>Specific the flows (sequence diagrams for different flows) e.g.</p></li><li><ul><li>Device DNS Name – embedded device variation (manufacturer managed – or manufacture delegated) </li><li>Device DNS – DynDNS version (manufacturer managed– or manufacture delegated)</li><li>Gateway issued name and certificate (user managed)</li><li>Application issued name and certificate (user managed)</li><li>Other….</li></ul></li><li><p>For each consider</p></li><li><ul><li>Browser implementation details: which methods impact browser behaviour</li><li>Changes needed to device</li><li>Changes needed to DNS server infrastructure </li><li>Changes needed to server based CA infrastructure </li><li>Changes needed to gateway – or local infrastructure</li><li>User experience </li><li>Ecosystem impacts </li></ul></li></ul></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="todos"></a>TODOs:<a aria-hidden="true" tabindex="-1" class="hash-link" href="#todos" title="Direct link to heading">#</a></h1><ul class="contains-task-list"><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> Ask [Hannes] to comment on FIDO issues</p></li><li class="task-list-item"><p><input type="checkbox" disabled=""> <strong>Ask [CA] to check the current implementation issues</strong></p></li><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> [Nick]  CA/existing methods: push forward the certificate tool and add some stats</p></li><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> [Nick] made recommenations on use of certificates</p></li><li class="task-list-item"><p><input type="checkbox" disabled=""> [other] review refine use of certificate </p></li><li class="task-list-item"><p><input type="checkbox" disabled=""> [Nick] add detail on Matter implementation  </p></li><li class="task-list-item"><p><input type="checkbox" disabled=""> IEEE 802.1AR - add details on feasibility/desirability  - what is the definitive reference for this</p></li><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> [Jan]  X.509 Certificate Key Usage for Home Devices: validate the intent or this section </p></li><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> [Nick] flesh out gateway method - and repurpose Device gateway section </p></li><li class="task-list-item"><p><input type="checkbox" disabled=""> [other] initial review of gateway approach </p></li><li class="task-list-item"><p><input type="checkbox" disabled=""> [Nick] flesh out application method </p></li><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> [Nick] Added draft on non certificate based trust </p></li><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> [Nick] Added information on FIDO + Matter +MUD</p></li><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> [Nick] seperated out the DynDNS and embbeded local address flow </p></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nqminds/docusaurus-template/edit/master/docs/SUIB-solutions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#initial-device-identifier" class="table-of-contents__link">Initial Device Identifier</a></li><li><a href="#fido-device-onboarding" class="table-of-contents__link">FIDO Device Onboarding</a></li><li><a href="#matter-onboarding" class="table-of-contents__link">MATTER Onboarding</a></li><li><a href="#mud-credentials" class="table-of-contents__link">MUD Credentials</a></li><li><a href="#nicks-list" class="table-of-contents__link">Nicks List</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Index</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Contact Us</h4><ul class="footer__items"><li class="footer__item"><a href="https://nquiringminds.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li><li class="footer__item"><a href="https://twitter.com/nqminds" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://nquiringminds.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1Wg7"><img class="footer__logo" alt="NquiringMinds Logo" src="/img/nqminds-logo.svg"></a></div><div>Copyright © 2021 NquiringMinds LTD. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.57115a7e.js"></script>
<script src="/runtime~main.6c0ff58d.js"></script>
<script src="/main.a0975e58.js"></script>
<script src="/1.0b59496a.js"></script>
<script src="/2.507d9e23.js"></script>
<script src="/44.71ddffdd.js"></script>
<script src="/45.de83f5cd.js"></script>
<script src="/20ac7829.c668e58d.js"></script>
<script src="/17896441.d296467f.js"></script>
<script src="/54c85550.a24a76a3.js"></script>
</body>
</html>